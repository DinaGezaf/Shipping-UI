<div class="container my-5">
  <div class="d-flex justify-content-center">
    <button
      class="fw-bold px-4 py-2 mx-2 text-center btn"
      [ngClass]="{ 'btn-info text-light': selectedState === '' }"
      (click)="selectState('All')"
    >
      All
    </button>
    <button
      class="fw-bold px-4 py-2 mx-2 text-center btn"
      [ngClass]="{ 'btn-info text-light': selectedState === 'New' }"
      (click)="selectState('New')"
    >
      New
    </button>
    <button
      class="fw-bold px-4 py-2 mx-2 text-center btn"
      [ngClass]="{ 'btn-info text-light': selectedState === 'Delayed' }"
      (click)="selectState('Delayed')"
    >
      Delayed
    </button>
    <button
      class="fw-bold px-4 py-2 mx-2 text-center btn"
      [ngClass]="{ 'btn-info text-light': selectedState === 'Waiting' }"
      (click)="selectState('Waiting')"
    >
      Waiting
    </button>
    <button
      class="fw-bold px-4 py-2 mx-2 text-center btn"
      [ngClass]="{ 'btn-info text-light': selectedState === 'Rejected' }"
      (click)="selectState('Rejected')"
    >
      Rejected
    </button>
    <button
      class="fw-bold px-4 py-2 mx-2 text-center btn"
      [ngClass]="{ 'btn-info text-light': selectedState === 'Delivered' }"
      (click)="selectState('Delivered')"
    >
      Delivered
    </button>
  </div>
</div>

<div class="container my-5">
  <div class="mat-elevation-z8">
    <table
      mat-table
      [dataSource]="dataSource"
      class="mat-elevation-z8 text-center justify-content-center"
    >
      <!-- Order Column -->
      <ng-container matColumnDef="orderId">
        <th mat-header-cell *matHeaderCellDef class="text-light text-center">
          Order
        </th>
        <td mat-cell *matCellDef="let order" class="p-3 text-center">
          {{ order.orderId }}
        </td>
      </ng-container>

      <!-- Order Date Column -->
      <ng-container matColumnDef="orderDate">
        <th mat-header-cell *matHeaderCellDef class="text-light text-center">
          Order Date
        </th>
        <td mat-cell *matCellDef="let order" class="p-3 text-center">
          {{ order.orderDate }}
        </td>
      </ng-container>

      <!-- Customer ID Column -->
      <ng-container matColumnDef="customerId">
        <th mat-header-cell *matHeaderCellDef class="text-light text-center">
          Customer
        </th>
        <td mat-cell *matCellDef="let order" class="p-3 text-center">
          {{ order.customer.name }}<br /><br />{{ order.customer.phone1 }}
        </td>
      </ng-container>

      <!-- Government Column -->
      <ng-container matColumnDef="government">
        <th mat-header-cell *matHeaderCellDef class="text-light text-center">
          Government
        </th>
        <td mat-cell *matCellDef="let order" class="p-3 text-center">
          {{ order.customer.goverment }}
        </td>
      </ng-container>

      <!-- City Column -->
      <ng-container matColumnDef="city">
        <th mat-header-cell *matHeaderCellDef class="text-light text-center">
          City
        </th>
        <td mat-cell *matCellDef="let order" class="p-3 text-center">
          {{ order.customer.city }}
        </td>
      </ng-container>

      <!-- Cost Column -->
      <ng-container matColumnDef="cost">
        <th mat-header-cell *matHeaderCellDef class="text-light text-center">
          Cost
        </th>
        <td mat-cell *matCellDef="let order" class="p-3 text-center">
          {{ order.totalCost }}
        </td>
      </ng-container>



      <!-- Action Column -->
      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef class="text-light text-center">
          Action
        </th>
        <td mat-cell *matCellDef="let order" class="p-3 text-center">
          <a class="btn px-3 py-1 text-dark fs-3">
            <i class="bi bi-person-fill-check"></i>
          </a>
        </td>
      </ng-container>
 <!-- Status Column -->
      <ng-container matColumnDef="state">
        <th mat-header-cell *matHeaderCellDef class="text-light text-center">
          Change Status
        </th>
        <td mat-cell *matCellDef="let order" class="p-3 text-center">
          <button
            class="btn btn-info px-3 py-2 text-light"
            (click)="openOrderStateForm(order)"
          >
            State
          </button>
        </td>
      </ng-container>
      <!-- Table Rows -->
      <tr
        mat-header-row
        *matHeaderRowDef="displayedColumns"
        class="bg-info"
      ></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>

    <mat-paginator
      [pageSizeOptions]="[10, 20, 30, 40, 50]"
      showFirstLastButtons
      aria-label="Select page of periodic elements"
    >
    </mat-paginator>
  </div>
</div>
